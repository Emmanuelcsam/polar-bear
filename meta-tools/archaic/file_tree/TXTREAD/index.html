<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zen Text Reader Pro - Ultimate Focus & Comprehension</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/responsive.css">
</head>
<body>
    <!-- Animated background -->
    <div class="background">
        <div class="orb orb1"></div>
        <div class="orb orb2"></div>
        <div class="orb orb3"></div>
    </div>

    <!-- Reading progress bar -->
    <div class="reading-progress">
        <div class="reading-progress-bar"></div>
    </div>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>Zen Text Reader Pro</h1>
            <p>Transform your reading experience with AI-powered comprehension</p>
        </header>

        <!-- Features dropdown -->
        <div class="features-dropdown">
            <button class="features-btn" id="featuresBtn">
                <span>‚ú® Features</span>
                <span>‚ñº</span>
            </button>
            <div class="features-menu" id="featuresMenu">
                <div class="feature-item" data-feature="fullscreen">
                    <span class="feature-icon">‚õ∂</span>
                    <span class="feature-text">Fullscreen Mode</span>
                    <span class="feature-shortcut">Ctrl+F</span>
                </div>
                <div class="feature-item" data-feature="speed">
                    <span class="feature-icon">‚ö°</span>
                    <span class="feature-text">Speed Reader</span>
                    <span class="feature-shortcut">Ctrl+S</span>
                </div>
                <div class="feature-item" data-feature="bionic">
                    <span class="feature-icon">üëÅÔ∏è</span>
                    <span class="feature-text">Bionic Reading</span>
                    <span class="feature-shortcut">Ctrl+B</span>
                </div>
                <div class="feature-item" data-feature="focus">
                    <span class="feature-icon">üéØ</span>
                    <span class="feature-text">Focus Gradient</span>
                </div>
                <div class="feature-item" data-feature="pomodoro">
                    <span class="feature-icon">üçÖ</span>
                    <span class="feature-text">Pomodoro Timer</span>
                    <span class="feature-shortcut">Ctrl+P</span>
                </div>
                <div class="feature-item" data-feature="tts">
                    <span class="feature-icon">üîä</span>
                    <span class="feature-text">Text-to-Speech</span>
                    <span class="feature-shortcut">Ctrl+L</span>
                </div>
                <div class="feature-item" data-feature="theme">
                    <span class="feature-icon">üåô</span>
                    <span class="feature-text">Toggle Theme</span>
                </div>
                <div class="feature-item" data-feature="increase">
                    <span class="feature-icon">üîç+</span>
                    <span class="feature-text">Increase Font</span>
                </div>
                <div class="feature-item" data-feature="decrease">
                    <span class="feature-icon">üîç-</span>
                    <span class="feature-text">Decrease Font</span>
                </div>
                <div class="feature-item" data-feature="syntax">
                    <span class="feature-icon">üåà</span>
                    <span class="feature-text">Syntax Highlighting</span>
                    <span class="feature-shortcut">Ctrl+H</span>
                </div>
                <div class="feature-item" data-feature="autoscroll">
                    <span class="feature-icon">üìú</span>
                    <span class="feature-text">Auto-scroll</span>
                    <span class="feature-shortcut">Ctrl+R</span>
                </div>
            </div>
        </div>

        <!-- Stats bar -->
        <div class="stats-bar">
            <div class="stat-item">
                <span class="stat-label">Words:</span>
                <span class="stat-value" id="wordCount">0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Reading time:</span>
                <span class="stat-value" id="readingTime">0 min</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Progress:</span>
                <span class="stat-value" id="progressPercent">0%</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Session:</span>
                <span class="stat-value" id="sessionTime">0s</span>
            </div>
        </div>

        <!-- File upload area -->
        <div class="upload-area" id="uploadArea">
            <div class="upload-icon">üìÑ</div>
            <h3>Drop your file here</h3>
            <p>Supports TXT, MD, PDF, DOCX, Python (.py, .ipynb), and images (OCR)</p>
            <input type="file" id="fileInput" hidden accept=".txt, .md, .pdf, .docx, .doc, .py, .pyw, .ipynb, image/*">
        </div>

        <!-- API Key section -->
        <div class="api-key-section">
            <span>üîë</span>
            <input type="password" class="api-key-input" id="apiKey" placeholder="Enter your Gemini API key" pattern="[A-Za-z0-9\-_]{39}">
            <button class="control-btn" id="saveApiKey">Save</button>
            <a href="https://makersuite.google.com/app/apikey" target="_blank" class="control-btn">Get API Key</a>
        </div>

        <!-- Main content area -->
        <div class="content-area" id="contentArea">
            <div class="text-display" id="textDisplay">
                <div class="reading-controls">
                    <!-- Controls will be populated by JavaScript -->
                </div>
                <div class="text-content" id="textContent">
                    <!-- Text content will be displayed here -->
                </div>
                <button class="exit-fullscreen" id="exitFullscreen">Exit Fullscreen</button>
            </div>

            <!-- AI Chat Panel -->
            <div class="ai-panel" id="aiPanel">
                <button class="ai-fullscreen-btn" id="aiFullscreenBtn" title="Toggle fullscreen">‚õ∂</button>
                <div class="ai-header">
                    <div class="ai-icon">ü§ñ</div>
                    <div>
                        <h3>AI Reading Assistant</h3>
                        <p>Ask questions about your text</p>
                    </div>
                </div>

                <div class="quick-actions">
                    <button class="quick-action">üìä Summarize</button>
                    <button class="quick-action">‚ùì Quiz Me</button>
                    <button class="quick-action">üîë Key Points</button>
                    <button class="quick-action">üí° Explain</button>
                </div>

                <div class="chat-messages" id="chatMessages">
                    <!-- Chat messages will appear here -->
                </div>

                <div class="chat-input-area">
                    <input type="text" class="chat-input" id="chatInput" placeholder="Ask me anything about the text...">
                    <button class="send-btn" id="sendBtn">Send</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Speed Reader Modal -->
    <div class="speed-reader-modal" id="speedReaderModal">
        <div class="speed-reader-content">
            <div class="speed-word" id="speedWord">Ready</div>
            <div class="speed-controls">
                <button class="speed-control-btn" id="speedDecrease">-50 WPM</button>
                <button class="speed-control-btn" id="speedPlayPause">Start</button>
                <span class="wpm-display" id="wpmDisplay">300 WPM</span>
                <button class="speed-control-btn" id="speedIncrease">+50 WPM</button>
                <button class="speed-control-btn" onclick="document.getElementById('speedReaderModal').classList.remove('active')">Close</button>
            </div>
        </div>
    </div>

    <!-- Pomodoro Timer Widget -->
    <div class="pomodoro-widget" id="pomodoroWidget">
        <div class="pomodoro-time" id="pomodoroTime">25:00</div>
        <div class="pomodoro-controls">
            <button class="control-btn" id="pomodoroStart">‚ñ∂Ô∏è</button>
            <button class="control-btn" id="pomodoroPause">‚è∏Ô∏è</button>
            <button class="control-btn" id="pomodoroReset">üîÑ</button>
        </div>
    </div>

    <!-- TTS Controls -->
    <div class="tts-controls" id="ttsControls">
        <div class="tts-main-controls">
            <button class="control-btn" id="ttsPlayPause">‚ñ∂Ô∏è</button>
            <button class="control-btn" id="ttsStop">‚èπÔ∏è</button>
            <div class="tts-rate-control">
                <label>Speed:</label>
                <input type="range" class="tts-rate-slider" id="ttsRate" min="0.5" max="2" step="0.1" value="1">
                <span id="ttsRateValue">1x</span>
            </div>
        </div>
        
        <div class="tts-engine-selector">
            <button class="tts-engine-btn active" id="browserTTSBtn">Browser TTS</button>
            <button class="tts-engine-btn" id="edgeTTSBtn">Edge TTS</button>
        </div>
        
        <div class="edge-tts-options" id="edgeTTSOptions">
            <select class="edge-voice-selector" id="edgeVoiceSelector">
                <option value="en-US-JennyNeural">Jenny (US Female)</option>
                <option value="en-US-GuyNeural">Guy (US Male)</option>
                <option value="en-GB-SoniaNeural">Sonia (UK Female)</option>
                <option value="en-GB-RyanNeural">Ryan (UK Male)</option>
                <option value="en-AU-NatashaNeural">Natasha (AU Female)</option>
                <option value="en-AU-WilliamNeural">William (AU Male)</option>
            </select>
            <div class="edge-tts-status" id="edgeTTSStatus">Ready</div>
        </div>
    </div>

    <!-- Autoscroll Controls -->
    <div class="autoscroll-controls" id="autoscrollControls">
        <div class="autoscroll-header">
            <span class="autoscroll-indicator" id="autoscrollIndicator">üìú</span>
            <span id="autoscrollStatus">Ready</span>
        </div>
        
        <div class="autoscroll-main-controls">
            <button class="control-btn" id="autoscrollPlayPause">‚ñ∂Ô∏è Start</button>
            <button class="control-btn" id="autoscrollStop">‚èπÔ∏è Stop</button>
            <button class="control-btn" id="autoscrollReset">‚èÆÔ∏è Reset</button>
        </div>
        
        <div class="autoscroll-speed-control">
            <label>Speed:</label>
            <input type="range" class="autoscroll-speed-slider" id="autoscrollSpeed" min="10" max="200" step="10" value="50">
            <span id="autoscrollSpeedValue">50 px/s</span>
        </div>
        
        <div class="autoscroll-tips">
            <small>üí° Press Space to pause/resume</small>
        </div>
    </div>

    <!-- Load modules -->
    <script type="module" src="js/app.js"></script>
</body>
</html>